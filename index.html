<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Powerhot VR</title>
    <meta name="description" content="Hello, World! - A-Frame">
    <script src="./node_modules/aframe/dist/aframe-master.js"></script>
    <script src="./node_modules/aframe-lerp-component/dist/aframe-lerp-component.js"></script>
    <script src="./node_modules/aframe-look-at-component/dist/aframe-look-at-component.js"></script>
    <script src="./node_modules/aframe-animation-component/dist/aframe-animation-component.js"></script>
    <script src="./node_modules/aframe-html-shader/dist/aframe-html-shader.js"></script>
    <script src="./group-opacity.js"></script>
    <script src="./when-looked-at.js"></script>
    <script src="./plays.js"></script>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div style="width:100%; height:100%; position:fixed; left: 0; top: 0; z-index: -1; overflow: hidden;">
      <div id="all-html">
        <div id="social" class="social" style="width:400px; height:600px;">
          <h2>Social</h2>
          <img src="./test.png" />
        </div>
        <div id="artist" class="artist" style="width:400px; height:600px;">
          <h2>Artist</h2>
          <img src="./test.png" />
        </div>
      </div>
    </div>
    <a-scene>
      <a-assets>
        <video id="video" src="slayer.mp4" muted></video>
      </a-assets>
  
      <!--
      <a-entity
        position="-3 1.6 -2"
        look-at="#camera"
        group-opacity="0.5"
        when-looked-at="
          focus: 0.3; 
          property: group-opacity;
          dur: 100;
          in: 1; 
          out: 0;
        ">
        <a-plane 
          position="0 0 0"
          scale="2 0.7 1"
          base-opacity="0.75"
          material="color: white;"
          plays="#video">
        </a-plane>
        <a-text 
          position="-0.9 0.2 0.1"
          value="PLAY/PAUSE"
          font-size="8"
          letter-spacing="15"
          scale="0.4 0.4 0.4"
          wrap-pixels="1100">
        </a-text>
      </a-entity>
      -->

      <!-- Right -->
      <a-entity
        position="4 2.9 -3"
        rotation="0 -30 0"
        group-opacity="0.5"
        when-looked-at="
          focus: 0.3; 
          property: group-opacity;
          dur: 100;
          in: 1; 
          out: 0;
          usesDomNode: #social;
        ">
        <a-plane 
          position="0 0 0"
          scale="2 3 1"
          position="0 0 0"
          base-opacity="1"
          use-material="true"
          material="
            transparent: true;
            shader: html; 
            fps: 5;
            target: #all-html; 
            width: 400;
            height: 600;
            ">
        </a-plane>
      </a-entity>

      <!-- Left -->
      <a-entity
        position="-4 2.9 -3"
        rotation="0 30 0"
        group-opacity="0.5"
        when-looked-at="
          focus: 0.3; 
          property: group-opacity;
          dur: 100;
          in: 1; 
          out: 0;
          usesDomNode: #artist;
        ">
        <a-plane 
          position="0 0 0"
          scale="2 3 1"
          position="0 0 0"
          base-opacity="1"
          use-material="true"
          material="
            transparent: true;
            shader: html; 
            fps: 5;
            target: #all-html; 
            width: 400;
            height: 600;
            ">
        </a-plane>
      </a-entity>

      <!-- Down -->
      <a-entity
        position="0 0.2 -2"
        look-at="#camera"
        group-opacity="0.5"
        plays="#video"
        when-looked-at="
          focus: 0.3; 
          property: group-opacity;
          dur: 100;
          in: 1; 
          out: 0;
        ">

        <!-- playbill -->
        <a-plane 
          position="-0.55 0 0"
          scale="2.9 1 1"
          base-opacity="0.75"
          material="color: white;">
        </a-plane>
        <a-text 
          position="-1.95 0.4 0.01"
          value="UP NEXT"
          font-size="8"
          letter-spacing="15"
          scale="0.4 0.4 0.4"
          wrap-pixels="1100">
        </a-text>


        <!-- settings -->
        <a-plane 
          position="1.5 0.275 0"
          scale="1 0.45 1"
          base-opacity="0.75"
          material="color: white;">
        </a-plane>
        <a-text 
          position="1.05 0.4 0.01"
          value="SETTINGS"
          font-size="8"
          letter-spacing="15"
          scale="0.4 0.4 0.4"
          wrap-pixels="1100">
        </a-text>


        <!-- move -->
        <a-plane 
          position="1.5 -0.275 0"
          scale="1 0.45 1"
          base-opacity="0.75"
          material="color: white;">
        </a-plane>
        <a-text 
          position="1.05 -0.125 0.01"
          value="MOVE"
          font-size="8"
          letter-spacing="15"
          scale="0.4 0.4 0.4"
          wrap-pixels="1100">
        </a-text>
      </a-entity>


      <a-camera id="camera">
        <a-entity 
          cursor="fuse: true; fuseTimeout: 750"
          scale="0.1 0.1 0.1"
          position="0 0 -1"
          geometry="primitive: ring;"
          material="color: white; opacity: 0;">
          <a-animation 
            begin="click" 
            dur="400" 
            easing="ease-out" 
            attribute="scale"
            from="0.01 0.01 0.01" 
            to="0.1 0.1 0.1">
          </a-animation>
          <a-animation
            begin="cursor-fusing"
            dur="750"
            easing="ease-in"
            attribute="scale"
            from="0.1 0.1 0.1" 
            to="0.01 0.01 0.01">
          </a-animation>
          <a-animation
            begin="mouseenter"
            dur="250"
            easing="ease-in"
            attribute="material.opacity"
            to="1">
          </a-animation>
          <a-animation
            begin="mouseleave"
            dur="250"
            easing="ease-out"
            attribute="material.opacity"
            to="0">
          </a-animation>
        </a-entity>
      </a-camera>


      <a-videosphere 
        id="videosphere" 
        src="#video" 
        rotation="0 265 0"
        segments-height="16"
        segments-width="16">
      </a-videosphere>
    </a-scene>
  </body>
</html>
